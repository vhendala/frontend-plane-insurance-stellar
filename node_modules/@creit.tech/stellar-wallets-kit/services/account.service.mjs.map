{"version":3,"file":"account.service.mjs","sources":["../../src/services/account.service.ts"],"sourcesContent":["import { firstValueFrom } from 'rxjs';\nimport { horizonUrl$ } from '../state/store';\n\nexport async function fetchAccountBalance(pk: string): Promise<string> {\n  const horizonUrl: string | undefined = await firstValueFrom(horizonUrl$);\n  if (!horizonUrl) {\n    throw new Error('There is no Horizon URL set');\n  }\n  const url: URL = new URL(horizonUrl);\n  url.pathname = `/accounts/${pk}`;\n  const response: Response = await fetch(url);\n  const data = await response.json();\n  const nativeBalance = data.balances.find((b: { asset_type: string }): boolean => b.asset_type === 'native');\n  return nativeBalance.balance;\n}\n"],"names":[],"mappings":";;;AAGA,eAAsB,oBAAoB,EAA6B,EAAA;AACrE,EAAM,MAAA,UAAA,GAAiC,MAAM,cAAA,CAAe,WAAW,CAAA;AACvE,EAAA,IAAI,CAAC,UAAY,EAAA;AACf,IAAM,MAAA,IAAI,MAAM,6BAA6B,CAAA;AAAA;AAE/C,EAAM,MAAA,GAAA,GAAW,IAAI,GAAA,CAAI,UAAU,CAAA;AACnC,EAAI,GAAA,CAAA,QAAA,GAAW,aAAa,EAAE,CAAA,CAAA;AAC9B,EAAM,MAAA,QAAA,GAAqB,MAAM,KAAA,CAAM,GAAG,CAAA;AAC1C,EAAM,MAAA,IAAA,GAAO,MAAM,QAAA,CAAS,IAAK,EAAA;AACjC,EAAM,MAAA,aAAA,GAAgB,KAAK,QAAS,CAAA,IAAA,CAAK,CAAC,CAAuC,KAAA,CAAA,CAAE,eAAe,QAAQ,CAAA;AAC1G,EAAA,OAAO,aAAc,CAAA,OAAA;AACvB;;;;"}